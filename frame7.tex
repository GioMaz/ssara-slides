% Errors

\begin{lstlisting}[style=Rocq]
Inductive vm : Type :=
  | Vm : (reg -> word) -> list word -> vm.

Definition get_reg (m : vm) (r : reg) : word :=
  (* ... *)

Definition set_reg (m : vm) (r : reg) (c : word) : vm :=
  (* ... *)

Definition get_word (m : vm) (i : nat) : word :=
  (* ... *)

Definition set_word (m : vm) (i : nat) (c : word) : vm :=
  (* ... *)
\end{lstlisting}

% \only<1>{
% \begin{align*}
% \nt{label} &::= \text{Normal} \ \mathbb N \mid \text{Point1} \ \mathbb N \mid \text{Point2} \ \mathbb N
% \\
% \nt{value} &::= i( \mathbb Z ) \mid r( \nt{register} ) \mid p( \mathbb N )
% \\
% \nt{expression} &::= \nt{value} \\
% &\mid \text{load} \ \nt{value} \\
% &\mid r( \nt{register} ) \makebox[1em]{+} \nt{value} \\
% &\mid r( \nt{register} ) \makebox[1em]{-} \nt{value} \\
% &\mid r( \nt{register} ) \makebox[1em]{*} \nt{value} \\
% &\mid r( \nt{register} ) \makebox[1em]{/} \nt{value}
% \\
% \nt{instruction} &::= r( \nt{register} ) \leftarrow \nt{expression} \\
% &\mid \text{store} \ r( \nt{register} ) \ r( \nt{register} )
% \\
% \nt{instructions} &::= \nt{instruction} ; \ \nt{instructions} \mid \nt{instruction}
% \\
% \nt{instructions-or-nil} &::= [ \nt{instructions} ] \mid []
% \end{align*}
% }

% \only<2>{
% \begin{align*}
% \nt{phi-arguments} &::= ( \nt{register} , \ \nt{label} ) ; \ \nt{phi-arguments} \\
% &\mid (\nt{register} , \ \nt{label})
% \\
% \nt{phi} &::= r( \nt{register} ) \leftarrow \phi \ \nt{phi-arguments-or-nil}
% \\
% \nt{phis} &::= \nt{phi} ; \ \nt{phis}
% \\
% \nt{phis-or-nil} &::= [ \nt{phis} ] \mid []
% \end{align*}
% }

% \only<3>{
% \begin{align*}
% \nt{condition} &::= r(\nt{register}) = \nt{val} \\
% &\mid r(\nt{register}) \neq \nt{val} \\
% &\mid r(\nt{register}) < \nt{val} \\
% &\mid r(\nt{register}) \leq \nt{val} \\
% &\mid r(\nt{register}) > \nt{val} \\
% &\mid r(\nt{register}) \geq \nt{val}
% \\
% \nt{jump-instruction} &::= \text{if} \ \nt{condition} \ \text{then} \ \nt{block} \ \text{else} \ \nt{block} \\
% &\mid \text{jump} \ \nt{block} \\
% &\mid \text{ret} \ r( \nt{register} )
% \\
% \nt{block} &::= \text{Block} \ ( \nt{label} ) \ \nt{phis-or-nil} \ \nt{instructions-or-nil} \ ( \nt{jump-instruction} )
% \end{align*}
% }